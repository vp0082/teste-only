<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>App</title>
  </head>
  <body style="margin: 0; background: #1e293b; color: white; font-family: sans-serif;">
    <div id="root" style="padding: 20px;">
      <h2 id="loading-status">Iniciando aplicação...</h2>
      <div id="error-display" style="color: #f87171; white-space: pre-wrap;"></div>
    </div>

    <script>
      const t = Date.now();
      // Feedback imediato para saber se o HTML carregou
      document.getElementById('loading-status').innerText = 'HTML carregado, aguardando JavaScript...';
      
      window.onerror = function(msg, url, lineNo, columnNo, error) {
        const display = document.getElementById('error-display');
        display.innerHTML += '\nErro Global: ' + msg + '\nLinha: ' + lineNo + '\nArquivo: ' + url;
        return false;
      };

      // Check health
      fetch('/api/health?t=' + t)
        .then(r => r.json())
        .then(d => {
          document.getElementById('loading-status').innerHTML += '<br><span style="color:green">API Health: OK (' + d.time + ')</span>';
        })
        .catch(e => {
          document.getElementById('error-display').innerHTML += '\nERRO API Health: ' + e.message;
        });

      // Timeout para avisar se o script demorar demais
      setTimeout(() => {
        const status = document.getElementById('loading-status');
        if (status && status.innerText.includes('aguardando')) {
          status.innerText = 'O JavaScript demorou muito para carregar. Verifique o console do navegador.';
          status.style.color = '#fbbf24';
        }
      }, 10000); // 10 seconds
    </script>
    <script src="/test-basic.js?v=1"></script>
    <script src="/app-simple.js?v=1"></script>
    <script type="module" src="/src/entry.js?v=1" 
      onload="console.log('Script entry.js carregado com sucesso')" 
      onerror="document.getElementById('error-display').innerHTML += '\nERRO: Falha ao carregar /src/entry.js (Script Tag Error)'">
    </script>




  </body>

</html>
